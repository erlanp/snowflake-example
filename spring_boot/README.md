# snow spring boot
生成分布式id, 雪花算法及自增

id自增的持久化为了避免在一个地方重复写写坏固态硬盘，对写法进行一些修改，所以比原来慢一点，每秒200万id

Snow 这个类每秒可以生成四千万的id，但是有时要写文件，如果写的文件丢失了，不能保证id的不重复性。不过可以配置多文件夹防止这种情况。可以抗闰秒。

但如果当机后，短时间有时钟回拔或闰秒。

以上性能结论是在i5cpu 8G内存及家用机械硬盘的环境下测试的。

如果用http提供相关接口返回id，假设spring-boot单机一万tps，就算一个请求批量返回20个id，每秒20万id基本上也是mysql在一般机器上单机批量插入的极限了。